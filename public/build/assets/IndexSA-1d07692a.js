import{_ as j,a as N}from"./AuthenticatedLayout-92c703ba.js";import{k as S,K as P,C as V,l as q,O as E,f as r,a as _,u as p,w as O,F as u,p as C,o as a,Z as I,b as e,c as M,g as i,j as y,t as l}from"./app-72098953.js";import{_ as $}from"./TextInput-3eb5d06a.js";import{_ as T}from"./SelectInput-453922fe.js";import{r as A,_ as B}from"./Pagination-40d74174.js";import"./vue-select-efd7135b.js";import"./vue-datepicker-649006ad.js";/* empty css             *//* empty css                                               *//* empty css                                             */import{P as D,n as x,f as h,p as U}from"./global-334ce53a.js";import"./ApplicationLogo-eae07a0c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-97face0a.js";const L={class:"space-y-4"},R=e("div",{class:"px-4 sm:px-0"},[e("div",{class:"rounded-lg overflow-hidden w-fit"})],-1),z={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},G={class:"flex justify-between p-2"},K={class:"flex space-x-2"},Z={class:"overflow-x-auto scrollbar-table"},H={key:0,class:"w-full"},J={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},Q={class:"dark:bg-gray-900/50 text-left"},W=["onClick"],X={class:"flex justify-between items-center ml-4"},Y={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},F={key:0},ee={key:1,class:"flex flex-col flex-wrap whitespace-normal min-w-[350px]"},te={class:"text-sm"},ae={key:2},re={key:3},se={key:4},oe={key:5},le={key:6},de={key:7},ne={key:8},ie={class:"border-t border-gray-600"},ce=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," Total ",-1),pe=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," Necesidades: ",-1),_e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-extrabold"},ue=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),me=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),ye=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),be=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),fe=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),xe=e("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"}," - ",-1),he={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center font-bold text-lg"},ge={key:1,class:"text-center text-xl my-8"},we={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Te={__name:"IndexSA",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object},setup(m){const d=m,{_:g,debounce:w,pickBy:v}=C,o=S({params:{search:d.filters.search,field:d.filters.field,order:d.filters.order,perPage:d.perPage},formularioo:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,dataSet:P().props.app.perpage,ElTotalFinal:0,ElCantidadTotal:0});V(()=>{let n;d.fromController.data.forEach(c=>{console.log("=>(IndexSA.vue:63) element.valor_total_solicitatdo_por_necesidad",c.valor_total_solicitatdo_por_necesidad),n=c.valor_total_solicitatdo_por_necesidad.replace(/\.0+$/,""),n=parseInt(n),console.log("=>(IndexSA.vue:64) valuea",n),o.ElTotalFinal+=n,o.ElCantidadTotal+=parseInt(c.cantidad)})});const k=n=>{o.params.field=n,o.params.order=o.params.order==="asc"?"desc":"asc"};q(()=>g.cloneDeep(o.params),w(()=>{let n=v(o.params);E.get(route("formularioSA"),n,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const b=[{order:"numero_necesidad",label:"#",type:"alterNumber"},{order:"identificacion_user",label:"cc",type:"number"},{order:"enviado",label:"Enviado",type:"boolEnviado"},{order:"necesidad",label:"necesidad",type:"text"},{order:"justificacion",label:"justificacion",type:"text"},{order:"proceso_que_solicita_presupuesto",label:"Proceso que solicita presupuesto",type:"selectsMultiple",newName:"proceso_que_solicita_presupuest"},{order:"actividad",label:"Actividad",type:"text"},{order:"categoria",label:"Categoria",type:"text"},{order:"cantidad",label:"Cantidad",type:"number"},{order:"unidad_de_medida",label:"Unidad de medida",type:"text"},{order:"valor_unitario",label:"Valor unitario",type:"dinero"},{order:"valor_total_solicitatdo_por_necesidad",label:"Valor total solicitatdo por necesidad",type:"dinero"},{order:"periodo_de_inicio_de_ejecucion",label:"Periodo de inicio de ejecucion",type:"text"},{order:"vigencias_anteriores",label:"Vigencias anteriores",type:"text"},{order:"valor_asignado_en_la_vigencia_anterior",label:"Valor asignado en la vigencia anterior",type:"dinero"},{order:"procesos_involucrados",label:"Procesos involucrados",type:"selectsMultiple",newName:"procesos_involucrado"},{order:"plan_de_mejoramiento_al_que_apunta_la_necesidad",label:"Plan de mejoramiento al que apunta la necesidad",type:"selectsMultiple",newName:"plan_de_mejoramiento_al_que_apunta_la_necesida"},{order:"linea_del_plan_desarrollo_al_que_apunta_la_necesidad",label:"Linea del plan desarrollo al que apunta la necesidad",type:"selectsMultiple",newName:"linea_del_plan_desarrollo_al_que_apunta_la_necesida"},{order:"frecuencia_de_uso",label:"Frecuencia de uso",type:"text"},{order:"mantenimientos_requeridos",label:"Mantenimientos requeridos",type:"text"},{order:"capacidad_instalada",label:"Capacidad instalada",type:"text"},{order:"riesgo_de_la_inversion",label:"Riesgo de la inversion",type:"text"},{order:"valor_total_de_la_solicitud_actual",label:"Valor total de la solicitud actual",type:"dinero"}];return(n,c)=>(a(),r(u,null,[_(p(I),{title:d.title},null,8,["title"]),_(j,null,{default:O(()=>[_(N,{title:m.title,breadcrumbs:m.breadcrumbs,class:"capitalize text-xl font-bold"},null,8,["title","breadcrumbs"]),e("div",L,[R,e("div",z,[e("div",G,[e("div",K,[_(T,{modelValue:o.params.perPage,"onUpdate:modelValue":c[0]||(c[0]=s=>o.params.perPage=s),dataSet:o.dataSet},null,8,["modelValue","dataSet"])]),d.numberPermissions>=0?(a(),M($,{key:0,modelValue:o.params.search,"onUpdate:modelValue":c[1]||(c[1]=s=>o.params.search=s),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Necesidad"},null,8,["modelValue"])):i("",!0)]),e("div",Z,[d.total>0?(a(),r("table",H,[e("thead",J,[e("tr",Q,[(a(),r(u,null,y(b,s=>e("th",{class:"px-2 py-4 cursor-pointer",onClick:f=>k(s.order)},[e("div",X,[e("span",null,l(s.label),1),_(p(A),{class:"w-4 h-4"})])],8,W)),64))])]),e("tbody",null,[(a(!0),r(u,null,y(d.fromController.data,(s,f)=>(a(),r("tr",{key:f,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[(a(),r(u,null,y(b,t=>e("td",Y,[t.type==="alterNumber"?(a(),r("span",F,l(parseInt(s[t.order])+1),1)):i("",!0),t.type==="text"?(a(),r("span",ee,[e("p",te,l(p(D)(s[t.order],15)),1)])):i("",!0),t.type==="number"?(a(),r("span",ae,l(p(x)(s[t.order],0,!1)),1)):i("",!0),t.type==="dinero"?(a(),r("span",re,l(p(x)(s[t.order],0,!0)),1)):i("",!0),t.type==="date"?(a(),r("span",se,l(p(h)(s[t.order],!1)),1)):i("",!0),t.type==="datetime"?(a(),r("span",oe,l(p(h)(s[t.order],!0)),1)):i("",!0),t.type==="foreign"?(a(),r("span",le,l(n.claseformularioa[t.order][t.nameid]),1)):i("",!0),t.type==="boolEnviado"?(a(),r("span",de,l(s[t.order]?"Enviado":"Guardado"),1)):i("",!0),t.type==="selectsMultiple"?(a(),r("span",ne,l(s[t.newName]),1)):i("",!0)])),64))]))),128)),e("tr",ie,[ce,pe,e("td",_e,l(d.total),1),ue,me,ye,be,fe,xe,e("td",he,l(p(U)(o.ElTotalFinal)),1)])])])):(a(),r("h2",ge,"Sin Registros"))]),e("div",we,[_(B,{links:d.fromController,filters:o.params},null,8,["links","filters"])])])])]),_:1})],64))}};export{Te as default};
