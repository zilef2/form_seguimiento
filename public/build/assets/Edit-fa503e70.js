import{o as u,f as m,b as i,k as B,T as M,C as T,x as N,l as z,a as s,w as c,t as p,u as t,F as H,j as L,d as f,n as O,e as A}from"./app-b969c58c.js";import{_ as h}from"./InputError-ff9dcb56.js";import{_ as w}from"./InputLabel-1470b776.js";import{_ as F,a as U}from"./SecondaryButton-95032e66.js";import{_ as v}from"./PrimaryButton-38a92913.js";import{_ as D}from"./TextInput-d8d49ed6.js";import{C as y}from"./vue-select-ce96d03d.js";import"./vue-datepicker-3f5bbd98.js";function q(g,d){return u(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z","clip-rule":"evenodd"})])}function G(g,d){return u(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z","clip-rule":"evenodd"})])}const I={class:"space-y-6"},J=["onSubmit"],K={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-56"},Q={class:""},R={id:"SelectVue"},W=i("label",{name:"labelSelectVue",class:"dark:text-white"}," Centro de trabajo ",-1),X={class:"flex my-5 gap-8"},Y={class:"my-8 flex justify-end"},ne={__name:"Edit",props:{show:Boolean,title:String,generica:Object,titulos:Object,losSelect:Object},emits:["close"],setup(g,{emit:d}){const r=g,a=B({}),V=r.titulos.map(e=>e.order),o=M({...Object.fromEntries(V.map(e=>[e,""])),centro_id:[r.losSelect[0]]});T(()=>{});const k=[];r.titulos.forEach(e=>{k.push({idd:e.order,label:e.label,type:e.type,value:o[e.order]})});function x(){a.centros=r.generica.centro_trabajos,a.centros.map((e,l)=>{let n={title:e.nombre,value:e.id};return o.centro_id[l]=n,n})}N(()=>{r.show&&(o.errors={},r.titulos.forEach(e=>{o[e.order]=r.generica[e.order]}))}),z(()=>r.show,e=>{e&&x()});function S(){a.centros.push(0),o.centro_id.push(r.losSelect[0])}let C=()=>{a.centros.length=a.centros.length-1,o.centro_id.length=o.centro_id.length-1},E=()=>{try{if(a.valido=!0,!o.nombre||!o.tipo)throw a.valido=!1,new Error("BreakException");o.centro_id.forEach(e=>{if(e.value===0)throw a.valido=!1,new Error("BreakException")})}catch{a.valido=!1}};const _=()=>{var e;E(),a.valido?o.put(route("actividad.update",(e=r.generica)==null?void 0:e.id),{preserveScroll:!0,onSuccess:()=>{d("close"),o.reset()},onError:()=>null,onFinish:()=>null}):(a.mensajeError="Hay elementos vacios",alert(a.mensajeError))},j=[{title:"Seleccione un tipo",value:0},{title:"TVA",value:"TVA"},{title:"TNVA",value:"TNVA"}];return(e,l)=>(u(),m("section",I,[s(F,{show:r.show,onClose:l[5]||(l[5]=n=>d("close"))},{default:c(()=>[i("form",{class:"px-6 pt-6",onSubmit:A(_,["prevent"])},[i("h2",K,p(e.lang().label.edit)+" "+p(r.title),1),i("div",P,[i("div",Q,[s(w,{for:"nombre",value:e.lang().label.nombre},null,8,["value"]),s(D,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:t(o).nombre,"onUpdate:modelValue":l[0]||(l[0]=n=>t(o).nombre=n),required:"",placeholder:e.nombre,error:t(o).errors.nombre},null,8,["modelValue","placeholder","error"]),s(h,{class:"mt-2",message:t(o).errors.nombre},null,8,["message"])]),i("div",null,[s(w,{for:"tipo",value:e.lang().label.Tipo},null,8,["value"]),s(t(y),{options:j,label:"title",class:"mt-1 dark:bg-gray-500 rounded-lg dark:text-gray-600",modelValue:t(o).tipo,"onUpdate:modelValue":l[1]||(l[1]=n=>t(o).tipo=n)},null,8,["modelValue"])]),(u(!0),m(H,null,L(a.centros,(n,b)=>(u(),m("div",R,[W,s(t(y),{options:r.losSelect,label:"title",class:"dark:bg-gray-500 rounded-lg dark:text-gray-600",modelValue:t(o).centro_id[b],"onUpdate:modelValue":$=>t(o).centro_id[b]=$},null,8,["options","modelValue","onUpdate:modelValue"]),s(h,{class:"mt-2",message:t(o).errors.centro_id},null,8,["message"])]))),256)),i("div",X,[s(v,{type:"button",disabled:t(o).processing,onClick:l[2]||(l[2]=n=>S())},{default:c(()=>[s(t(q),{class:"w-6 h-6"}),f(" Mas centros ")]),_:1},8,["disabled"]),s(v,{type:"button",class:"bg-red-500",disabled:t(o).processing,onClick:l[3]||(l[3]=n=>t(C)())},{default:c(()=>[s(t(G),{class:"w-6 h-6"}),f(" Menos centros ")]),_:1},8,["disabled"])])]),i("div",Y,[s(U,{disabled:t(o).processing,onClick:l[4]||(l[4]=n=>d("close"))},{default:c(()=>[f(p(e.lang().button.close),1)]),_:1},8,["disabled"]),s(v,{class:O(["ml-3",{"opacity-25":t(o).processing}]),disabled:t(o).processing,onClick:_},{default:c(()=>[f(p(t(o).processing?e.lang().button.save+"...":e.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,J)]),_:1},8,["show"])]))}};export{ne as default};
