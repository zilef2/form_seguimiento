import{k as E,T as N,x as O,C as T,f as m,a as o,w as v,o as u,b as d,t as i,F as B,j as M,u as s,g as P,d as C,n as z,e as D}from"./app-b969c58c.js";import{_ as p}from"./InputError-ff9dcb56.js";import{_ as g}from"./InputLabel-1470b776.js";import{_ as L,a as R}from"./SecondaryButton-95032e66.js";import{_ as A}from"./PrimaryButton-38a92913.js";import{_ as G}from"./SelectInput-754de77a.js";import{_ as f}from"./TextInput-d8d49ed6.js";import{o as H}from"./vue-datepicker-3f5bbd98.js";/* empty css             */import{C as I}from"./vue-select-ce96d03d.js";const J={class:"space-y-6"},K=["onSubmit"],Q={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},W={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={key:0,id:"SelectVue",class:"mt-2"},Z={class:"inline-flex"},ee={name:"labelSelectVue"},le={class:"text-lg ml-1 font-bold"},se={key:1,id:"SelectVue"},ae={class:"inline-flex"},oe={class:"text-lg ml-1 font-bold"},de={key:2,id:"SelectVue"},ne={class:"inline-flex"},re={class:"text-lg ml-1 font-bold"},te={key:3,class:""},ie={class:"inline-flex"},ce={class:"text-lg ml-1 font-bold"},me={class:"inline-flex"},ue=d("small",{class:"text-lg ml-1 font-bold"}," * ",-1),pe={key:0},ge={class:"flex justify-end my-8"},xe={__name:"Edit",props:{show:Boolean,title:String,user:Object,titulos:Object,roles:Object,numberPermissions:Number,losSelect:Object},emits:["close"],setup(_,{emit:h}){var b;const n=_,w=E({params:{pregunta:""},onceTime:!0,sexo:[{title:"Masculino",value:"Masculino"},{title:"Femenino",value:"Femenino"}]}),$=n.titulos.map(a=>a.order);let e=N({...Object.fromEntries($.map(a=>[a,""])),role:""});const V=[];n.titulos.forEach(a=>V.push({idd:a.order,label:a.label,type:a.type}));const y=()=>{var a;e.put(route("user.update",(a=n.user)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{h("close"),e.reset()},onError:()=>null,onFinish:()=>null})};O(()=>{var a,r,l,c,t,k,S,x,U,q;n.show?(e.errors={},e.name=(a=n.user)==null?void 0:a.name,e.email=(r=n.user)==null?void 0:r.email,e.role=((l=n.user)==null?void 0:l.roles)==0?"":(c=n.user)==null?void 0:c.roles[0].name,e.identificacion=(t=n.user)==null?void 0:t.identificacion,e.sexo=(k=n.user)==null?void 0:k.sexo,e.fecha_nacimiento=(S=n.user)==null?void 0:S.fecha_nacimiento,e.celular=(x=n.user)==null?void 0:x.celular,e.area=(U=n.user)==null?void 0:U.area,e.cargo=(q=n.user)==null?void 0:q.cargo,w.onceTime=!1):(e.name=null,e.email=null,e.role=null,e.identificacion=null,e.sexo=null,e.fecha_nacimiento=null,e.celular=null,e.area=null,e.cargo=null)}),T(()=>{});const j=(b=n.roles)==null?void 0:b.map(a=>({label:a.name.replace(/_/g," "),value:a.name})),F=["year","month","calendar"];return(a,r)=>(u(),m("section",J,[o(L,{show:n.show,onClose:r[4]||(r[4]=l=>h("close"))},{default:v(()=>[d("form",{class:"p-6 mb-12",onSubmit:D(y,["prevent"])},[d("h2",Q,i(a.lang().label.edit)+" "+i(n.title),1),d("h3",W,i(a.lang().label.RequiredFields),1),d("div",X,[(u(),m(B,null,M(V,(l,c)=>d("div",{key:c},[l.type==="foreign"?(u(),m("div",Y,[d("div",Z,[d("label",ee,i(l.label),1),d("small",le,i(_.titulos[c].required?"*":"ㅤ"),1)]),o(s(I),{options:w[l.idd],label:"title",class:"text-lg h-8",modelValue:s(e)[l.idd],"onUpdate:modelValue":t=>s(e)[l.idd]=t},null,8,["options","modelValue","onUpdate:modelValue"]),o(p,{class:"mt-2",message:s(e).errors[l.idd]},null,8,["message"])])):l.type==="time"?(u(),m("div",se,[d("div",ae,[o(g,{for:l.label,value:a.lang().label[l.label]},null,8,["for","value"]),d("small",oe,i(_.titulos[c].required?"*":"ㅤ"),1)]),o(f,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:s(e)[l.idd],"onUpdate:modelValue":t=>s(e)[l.idd]=t,required:"",placeholder:l.label,error:s(e).errors[l.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),o(p,{class:"mt-2",message:s(e).errors[l.idd]},null,8,["message"])])):l.type==="date"?(u(),m("div",de,[d("div",ne,[o(g,{for:l.label,value:a.lang().label[l.label]},null,8,["for","value"]),d("small",re,i(_.titulos[c].required?"*":"ㅤ"),1)]),o(s(H),{"is-24":!1,"day-names":a.daynames,format:a.formatToVue,flow:F,"auto-apply":"","enable-time-picker":!1,id:l.idd,class:"mt-1 block w-full",modelValue:s(e)[l.idd],"onUpdate:modelValue":t=>s(e)[l.idd]=t,required:"",placeholder:l.label,error:s(e).errors[l.idd]},null,8,["day-names","format","id","modelValue","onUpdate:modelValue","placeholder","error"]),o(p,{class:"mt-2",message:s(e).errors[l.idd]},null,8,["message"])])):(u(),m("div",te,[d("div",ie,[o(g,{for:l.label,value:a.lang().label[l.label]},null,8,["for","value"]),d("small",ce,i(_.titulos[c].required?"*":"ㅤ"),1)]),o(f,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:s(e)[l.idd],"onUpdate:modelValue":t=>s(e)[l.idd]=t,required:"",placeholder:l.label,error:s(e).errors[l.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),o(p,{class:"mt-2",message:s(e).errors[l.idd]},null,8,["message"])]))])),64)),d("div",null,[d("div",me,[o(g,{for:"role",value:a.lang().label.role},null,8,["value"]),ue]),o(G,{id:"role",class:"mt-1 block w-full",modelValue:s(e).role,"onUpdate:modelValue":r[0]||(r[0]=l=>s(e).role=l),required:"",dataSet:s(j)},null,8,["modelValue","dataSet"]),o(p,{class:"mt-2",message:s(e).errors.role},null,8,["message"])])]),n.numberPermissions>9?(u(),m("div",pe,[o(g,{for:"password",value:a.lang().label.password},null,8,["value"]),o(f,{id:"password",type:"password",class:"mt-4 block w-full",modelValue:s(e).password,"onUpdate:modelValue":r[1]||(r[1]=l=>s(e).password=l),placeholder:a.lang().placeholder.password,error:s(e).errors.password},null,8,["modelValue","placeholder","error"]),o(p,{class:"mt-2",message:s(e).errors.password},null,8,["message"])])):P("",!0),d("div",null,[o(g,{for:"password_confirmation",value:a.lang().label.password_confirmation},null,8,["value"]),o(f,{id:"password_confirmation",type:"password",class:"mt-4 block w-full",modelValue:s(e).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=l=>s(e).password_confirmation=l),placeholder:a.lang().placeholder.password_confirmation,error:s(e).errors.password_confirmation},null,8,["modelValue","placeholder","error"]),o(p,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])]),d("div",ge,[o(R,{disabled:s(e).processing,onClick:r[3]||(r[3]=l=>h("close"))},{default:v(()=>[C(i(a.lang().button.close),1)]),_:1},8,["disabled"]),o(A,{class:z(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:y},{default:v(()=>[C(i(s(e).processing?a.lang().button.save+"...":a.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,K)]),_:1},8,["show"])]))}};export{xe as default};
