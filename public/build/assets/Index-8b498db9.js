import{k as N,K as I,l as B,O as D,m as U,f as i,a as p,u as m,w as b,F as h,p as A,o as t,Z as E,b as s,c as u,d as T,t as c,g as d,j as g,q as w,s as q,v as x}from"./app-72098953.js";import{_ as z,a as K}from"./AuthenticatedLayout-92c703ba.js";import{_ as L}from"./TextInput-3eb5d06a.js";import{_ as M}from"./PrimaryButton-8063e5bc.js";import{_ as R}from"./SelectInput-453922fe.js";import{_ as Z}from"./DangerButton-f004b766.js";import{r as G,_ as H}from"./Pagination-40d74174.js";import J from"./Create-df2f39a5.js";import Q from"./Edit-15d8d52e.js";import W from"./Delete-1f9485aa.js";import{_ as X}from"./Checkbox-1835ac5d.js";import{r as Y,_ as F}from"./InfoButton-cb106bd5.js";import{n as v,f as S}from"./global-334ce53a.js";import{r as ee}from"./TrashIcon-923ca151.js";import"./ApplicationLogo-eae07a0c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-97face0a.js";import"./InputError-b1fe6d4f.js";import"./InputLabel-56ea6720.js";import"./SecondaryButton-9177dc35.js";import"./vue-select-efd7135b.js";import"./vue-datepicker-649006ad.js";/* empty css             *//* empty css                                               *//* empty css                                             */const te={class:"space-y-4"},se={class:"px-4 sm:px-0"},re={class:"rounded-lg overflow-hidden w-fit"},oe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ae={class:"flex justify-between p-2"},le={class:"flex space-x-2"},ne={class:"overflow-x-auto scrollbar-table"},ie={key:0,class:"w-full"},de={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ce={class:"dark:bg-gray-900/50 text-left"},pe={class:"px-2 py-4 text-center"},me={key:0,class:"px-2 py-4"},ue=s("th",{class:"px-2 py-4 text-center"},"#",-1),fe=["onClick"],ye={class:"flex justify-between items-center"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be=["value"],he={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},ke={class:"flex justify-center items-center"},ge={class:"rounded-md overflow-hidden"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={key:0},Se={key:1},$e={key:2},Pe={key:3},Oe={key:4},Ce={key:5},Ve={class:"border-t border-gray-600"},je={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3 text-center"},Ne=s("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"}," Total: ",-1),Ie={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Be={key:1,class:"text-center text-xl my-8"},De={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},lt={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object},setup(f){const r=f,{_:$,debounce:P,pickBy:O}=A,e=N({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},formularioo:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,dataSet:I().props.app.perpage}),C=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};B(()=>$.cloneDeep(e.params),P(()=>{let a=O(e.params);D.get(route("formulario.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const V=a=>{var l;a.target.checked===!1?e.selectedId=[]:(l=r.formularios)==null||l.data.forEach(_=>{e.selectedId.push(_.id)})},j=()=>{var a;((a=r.fromController)==null?void 0:a.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1},y=[{order:"nombre",label:"nombre",type:"text"}];return(a,l)=>{const _=U("tooltip");return t(),i(h,null,[p(m(E),{title:r.title},null,8,["title"]),p(z,null,{default:b(()=>[p(K,{title:f.title,breadcrumbs:f.breadcrumbs,class:"capitalize text-xl font-bold"},null,8,["title","breadcrumbs"]),s("div",te,[s("div",se,[s("div",re,[a.can(["create formulario"])?(t(),u(M,{key:0,class:"rounded-none",onClick:l[0]||(l[0]=o=>e.createOpen=!0)},{default:b(()=>[T(c(a.lang().button.add),1)]),_:1})):d("",!0),a.can(["create formulario"])?(t(),u(J,{key:1,numberPermissions:r.numberPermissions,titulos:y,show:e.createOpen,onClose:l[1]||(l[1]=o=>e.createOpen=!1),title:r.title,losSelect:r.losSelect},null,8,["numberPermissions","show","title","losSelect"])):d("",!0),a.can(["update formulario"])?(t(),u(Q,{key:2,titulos:y,numberPermissions:r.numberPermissions,show:e.editOpen,onClose:l[2]||(l[2]=o=>e.editOpen=!1),formularioa:e.formularioo,title:r.title,losSelect:r.losSelect},null,8,["numberPermissions","show","formularioa","title","losSelect"])):d("",!0),a.can(["delete formulario"])?(t(),u(W,{key:3,numberPermissions:r.numberPermissions,show:e.deleteOpen,onClose:l[3]||(l[3]=o=>e.deleteOpen=!1),formularioa:e.formularioo,title:r.title},null,8,["numberPermissions","show","formularioa","title"])):d("",!0)])]),s("div",oe,[s("div",ae,[s("div",le,[p(R,{modelValue:e.params.perPage,"onUpdate:modelValue":l[4]||(l[4]=o=>e.params.perPage=o),dataSet:e.dataSet},null,8,["modelValue","dataSet"])]),r.numberPermissions>1?(t(),u(L,{key:0,modelValue:e.params.search,"onUpdate:modelValue":l[5]||(l[5]=o=>e.params.search=o),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Nombre, codigo"},null,8,["modelValue"])):d("",!0)]),s("div",ne,[r.total>0?(t(),i("table",ie,[s("thead",de,[s("tr",ce,[s("th",pe,[p(X,{checked:e.multipleSelect,"onUpdate:checked":l[6]||(l[6]=o=>e.multipleSelect=o),onChange:V},null,8,["checked"])]),f.numberPermissions>1?(t(),i("th",me,"Accion")):d("",!0),ue,(t(),i(h,null,g(y,o=>s("th",{class:"px-2 py-4 cursor-pointer",onClick:k=>C(o.order)},[s("div",ye,[s("span",null,c(a.lang().label[o.label]),1),p(m(G),{class:"w-4 h-4"})])],8,fe)),64))])]),s("tbody",null,[(t(!0),i(h,null,g(r.fromController.data,(o,k)=>(t(),i("tr",{key:k,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s("td",_e,[w(s("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:j,value:o.id,"onUpdate:modelValue":l[7]||(l[7]=n=>e.selectedId=n)},null,40,be),[[q,e.selectedId]])]),f.numberPermissions>1?(t(),i("td",he,[s("div",ke,[s("div",ge,[w((t(),u(F,{type:"button",onClick:n=>(e.editOpen=!0,e.formularioo=o),class:"px-2 py-1.5 rounded-none"},{default:b(()=>[p(m(Y),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,a.can(["update user"])],[_,a.lang().tooltip.edit]]),w((t(),u(Z,{type:"button",onClick:n=>(e.deleteOpen=!0,e.formularioo=o),class:"px-2 py-1.5 rounded-none"},{default:b(()=>[p(m(ee),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,a.can(["delete user"])],[_,a.lang().tooltip.delete]])])])])):d("",!0),s("td",we,c(++k),1),(t(),i(h,null,g(y,n=>s("td",xe,[n.type==="text"?(t(),i("span",ve,c(o[n.order]),1)):d("",!0),n.type==="number"?(t(),i("span",Se,c(m(v)(o[n.order],0,!1)),1)):d("",!0),n.type==="dinero"?(t(),i("span",$e,c(m(v)(o[n.order],0,!0)),1)):d("",!0),n.type==="date"?(t(),i("span",Pe,c(m(S)(o[n.order],!1)),1)):d("",!0),n.type==="datetime"?(t(),i("span",Oe,c(m(S)(o[n.order],!0)),1)):d("",!0),n.type==="foreign"?(t(),i("span",Ce,c(a.claseformularioa[n.order][n.nameid]),1)):d("",!0)])),64))]))),128)),s("tr",Ve,[f.numberPermissions>1?(t(),i("td",je," - ")):d("",!0),Ne,s("td",Ie,c(r.total),1)])])])):(t(),i("h2",Be,"Sin Registros"))]),r.total>0?(t(),i("div",De,[p(H,{links:r.fromController,filters:e.params},null,8,["links","filters"])])):d("",!0)])])]),_:1})],64)}}};export{lt as default};
